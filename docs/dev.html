<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapitre 2 Développement de la bibliothèque | Memoire de mise en situation professionnel - Créer une bibliothèque PHP</title>
  <meta name="description" content="Mémoire du projet de mise en situation professionnelle sur la création d’une bibliothèque PHP" />
  <meta name="generator" content="bookdown 0.19 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapitre 2 Développement de la bibliothèque | Memoire de mise en situation professionnel - Créer une bibliothèque PHP" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://djuhnix.github.io/memo-msp/" />
  <meta property="og:image" content="https://djuhnix.github.io/memo-msp/assets/img/cover.png" />
  <meta property="og:description" content="Mémoire du projet de mise en situation professionnelle sur la création d’une bibliothèque PHP" />
  <meta name="github-repo" content="djuhnix/memo-msp" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapitre 2 Développement de la bibliothèque | Memoire de mise en situation professionnel - Créer une bibliothèque PHP" />
  
  <meta name="twitter:description" content="Mémoire du projet de mise en situation professionnelle sur la création d’une bibliothèque PHP" />
  <meta name="twitter:image" content="https://djuhnix.github.io/memo-msp/assets/img/cover.png" />

<meta name="author" content="Germain Jr. OLEA-OYOUGOU" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="context.html"/>
<link rel="next" href="utils.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="assets/css/style.css" type="text/css" />
<link rel="stylesheet" href="assets/css/toc.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Mémoire de mise en situation professionnelle</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Avant-propos</a></li>
<li class="chapter" data-level="" data-path="résumé.html"><a href="résumé.html"><i class="fa fa-check"></i>Résumé</a></li>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="1" data-path="context.html"><a href="context.html"><i class="fa fa-check"></i><b>1</b> Contexte</a><ul>
<li class="chapter" data-level="1.1" data-path="context.html"><a href="context.html#mise-en-situation-professionnelle"><i class="fa fa-check"></i><b>1.1</b> Mise en situation professionnelle</a><ul>
<li class="chapter" data-level="1.1.1" data-path="context.html"><a href="context.html#le-stage-en-dut-informatique"><i class="fa fa-check"></i><b>1.1.1</b> Le stage en DUT Informatique</a></li>
<li class="chapter" data-level="1.1.2" data-path="context.html"><a href="context.html#annulation-de-stage"><i class="fa fa-check"></i><b>1.1.2</b> Annulation de stage</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="context.html"><a href="context.html#pourquoi-faire-une-bibliothèque-en-php"><i class="fa fa-check"></i><b>1.2</b> Pourquoi faire une bibliothèque en PHP</a><ul>
<li class="chapter" data-level="1.2.1" data-path="context.html"><a href="context.html#larrière-plan"><i class="fa fa-check"></i><b>1.2.1</b> L’arrière-plan</a></li>
<li class="chapter" data-level="1.2.2" data-path="context.html"><a href="context.html#le-problème-avec-php"><i class="fa fa-check"></i><b>1.2.2</b> Le problème avec PHP</a></li>
<li class="chapter" data-level="1.2.3" data-path="context.html"><a href="context.html#lintervention-de-germain"><i class="fa fa-check"></i><b>1.2.3</b> L’intervention de Germain</a></li>
<li class="chapter" data-level="1.2.4" data-path="context.html"><a href="context.html#la-pertinence-du-projets"><i class="fa fa-check"></i><b>1.2.4</b> La pertinence du projets</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="dev.html"><a href="dev.html"><i class="fa fa-check"></i><b>2</b> Développement de la bibliothèque</a><ul>
<li class="chapter" data-level="2.1" data-path="dev.html"><a href="dev.html#programme-de-la-mise-en-situation-professionnelle."><i class="fa fa-check"></i><b>2.1</b> Programme de la mise en situation professionnelle.</a><ul>
<li class="chapter" data-level="2.1.1" data-path="dev.html"><a href="dev.html#organisation"><i class="fa fa-check"></i><b>2.1.1</b> Organisation</a></li>
<li class="chapter" data-level="2.1.2" data-path="dev.html"><a href="dev.html#impression-sur-le-télétravail"><i class="fa fa-check"></i><b>2.1.2</b> Impression sur le télétravail</a></li>
<li class="chapter" data-level="2.1.3" data-path="dev.html"><a href="dev.html#php-ffi"><i class="fa fa-check"></i><b>2.1.3</b> PHP FFI</a></li>
<li class="chapter" data-level="2.1.4" data-path="dev.html"><a href="dev.html#csfml-et-sfml"><i class="fa fa-check"></i><b>2.1.4</b> CSFML et SFML</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="utils.html"><a href="utils.html"><i class="fa fa-check"></i><b>3</b> Utilisation de la bibliothèque</a><ul>
<li class="chapter" data-level="3.1" data-path="utils.html"><a href="utils.html#utils-pre-requis"><i class="fa fa-check"></i><b>3.1</b> Pré-requis</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="res.html"><a href="res.html"><i class="fa fa-check"></i><b>4</b> Résultat</a><ul>
<li class="chapter" data-level="4.1" data-path="res.html"><a href="res.html#exemple-1"><i class="fa fa-check"></i><b>4.1</b> Exemple 1</a></li>
<li class="chapter" data-level="4.2" data-path="res.html"><a href="res.html#exemple-2"><i class="fa fa-check"></i><b>4.2</b> Exemple 2</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i>Conclusion</a></li>
<li class="chapter" data-level="" data-path="liste-des-abbreviations.html"><a href="liste-des-abbreviations.html"><i class="fa fa-check"></i>Liste des Abbreviations</a></li>
<li class="chapter" data-level="" data-path="références-et-bibliography.html"><a href="références-et-bibliography.html"><i class="fa fa-check"></i>Références et bibliography</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Memoire de mise en situation professionnel - Créer une bibliothèque PHP</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="dev" class="section level1">
<h1><span class="header-section-number">Chapitre 2</span> Développement de la bibliothèque</h1>
<p>Impossible de parler du développement de la bibliothèque sans aborder le programme que je me suis fixé pour le faire.</p>
<div id="programme-de-la-mise-en-situation-professionnelle." class="section level2">
<h2><span class="header-section-number">2.1</span> Programme de la mise en situation professionnelle.</h2>
<p>La mise en situation professionnelle, se déroule dans un cadre du confinement donc il m’était dans l’obligation de faire du télétravail.</p>
<div id="organisation" class="section level3">
<h3><span class="header-section-number">2.1.1</span> Organisation</h3>
<p>Dès le début je me suis fait un programme pour répartir convenablement les 4 semaines qui m’étaient donné pour la réalisation de la bibliothèque.</p>
<ul>
<li><strong>Semaine 1</strong> : documentation et découverte</li>
<li><strong>Semaine 2</strong> : Conception de l’architecture de la bibliothèque et template de développement</li>
<li><strong>Semaine 3</strong> : Développement de la bibliothèque</li>
<li><strong>Semaine 4</strong> :
<ul>
<li>Poursuite de développement et distribution de la bibliothèque</li>
<li>Finalisation du mémoire</li>
</ul></li>
</ul>
<p>En plus de cette organisation hebdomadaire je me suis fixé un planning journalier.</p>
<table>
<thead>
<tr class="header">
<th>Horaire</th>
<th>Activité</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>09h00 - 13h00</strong></td>
<td>Projet</td>
</tr>
<tr class="even">
<td><em>Pause</em></td>
<td></td>
</tr>
<tr class="odd">
<td><strong>15h00 - 17h00</strong></td>
<td>Projet</td>
</tr>
<tr class="even">
<td><em>Pause</em></td>
<td></td>
</tr>
<tr class="odd">
<td><strong>18h00 - 20h00</strong></td>
<td>Mémoire</td>
</tr>
</tbody>
</table>
<p>Je me suis également servi de trello qui fut d’une aide précieuse pour mettre en place toute cette organisation.</p>
</div>
<div id="impression-sur-le-télétravail" class="section level3">
<h3><span class="header-section-number">2.1.2</span> Impression sur le télétravail</h3>
<p>Objectivement j’ai pu respecté ce planning à 70%. Il est évident que travailler de chez soi n’est pas une compétence innée mais bien une compétence qui se pratique et s’améliore avec l’expérience. Il faut bien sûr apprendre à faire l’impasse sur certains divertissement sans pour autant se priver.</p>
<p>Avant de réellement commencer le développement de la bibliothèque il m’as fallu une période de documentation et de découverte qui a durée une semaine. Evidemment j’en avait besoin car avant cette mise en situation professionnel je ne connaissais rien de FFI ou de CSFML. Je vais résumé ce que j’ai pu apprendre en donnant les pré-requis au développement et fonctionnement de la bibliothèque.</p>
</div>
<div id="php-ffi" class="section level3">
<h3><span class="header-section-number">2.1.3</span> PHP FFI</h3>
<p>L’extension FFI de PHP disponible à partir de la version 7.4 est obligatoirement pour développer et faire fonctionner la bibliothèque. Elle est intégré mais “inactive” par défaut <span class="citation">(The PHP Group <a href="#ref-the_php_group_ffi_2019">2019</a>)</span> sauf si l’on utilise PHP en ligne de commande ou la fonctionnalité de pré-chargement de PHP en environnement web. Pour activer FFI il faut s’assurer d’avoir la librairie FFI <code>libffi</code> installé sur sa machine. <a href="https://sourceware.org/libffi/">Sourceware libffi</a>.</p>
<div id="installation-de-libffi" class="section level4">
<h4><span class="header-section-number">2.1.3.1</span> Installation de <code>libffi</code></h4>
<ul>
<li>Sur linux (Debian pour moi) la librairie est accessible via le paquet <code>libffi-dev</code>. Donc l’exécution de la commande suivante devrait installé le nécessaire pour activer l’extension FFI de PHP.</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="fu">sudo</span> apt install libffi-dev</a></code></pre></div>
<ul>
<li>Sur Windows je n’ai pas explorer le processus d’installation mais il est disponible à l’adresse suivante :
<a href="https://proj.goldencode.com/projects/p2j/wiki/Building_and_Installing_libffi_on_Windows">Goldencode.com : Building and Installing libffi on Windows</a></li>
</ul>
</div>
<div id="configurationactivation-de-ffi" class="section level4">
<h4><span class="header-section-number">2.1.3.2</span> Configuration/Activation de FFI</h4>
<p>Après avoir installé <code>libffi</code>, il faut désormais l’activer. On peut le faire de plusieurs manières mais je détaillerai uniquement celle que j’utilise pour faire fonctionner la bibliothèque. Voir <a href="utils.html#utils-pre-requis">3.1</a>.</p>
</div>
</div>
<div id="csfml-et-sfml" class="section level3">
<h3><span class="header-section-number">2.1.4</span> CSFML et SFML</h3>
<p>CSFML est juste un pont vers la bibliothèque graphique SFML il faut donc installer SFML si l’on veut utiliser CSFML.</p>
<ul>
<li>Sur Debian, ces bibliothèques sont accessibles respectivement via les paquets <code>libsfml-dev</code> et <code>libcsfml-dev</code></li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="fu">sudo</span> apt install libsfml-dev libcsfml-dev</a></code></pre></div>
<ul>
<li>Sur Windows on peut les télécharger sur le site officiel de la bibliothèque <a href="https://www.sfml-dev.org/download.php">sfml.org</a></li>
</ul>
<p>Après avoir eu ces dépendances sur ma machine, j’ai pu découvrir comment fonctionnait CSFML et SFML d’abord puis j’ai été capable de réaliser un programme en C qui affiche une fenêtre. Par la suite j’ai également réussi à écrire un script qui ouvre une fenêtre en PHP (accessible sur le dépôt git) utilisant CSFML et FFI fraîchement installé.
Maintenant que j’étais au point sur les dépendances de ma future bibliothèques j’ai pu commencé la phase de conception.</p>

</div>
</div>
</div>
<h3>Références et bibliography</h3>
<div id="refs" class="references">
<div id="ref-the_php_group_ffi_2019">
<p>The PHP Group. 2019. “PHP: Installation/Configuration - Manual. PHP: Installation/Configuration - Manual.” 2019. <a href="https://www.php.net/manual/fr/ffi.setup.php">https://www.php.net/manual/fr/ffi.setup.php</a>.</p>
</div>
</div>
<script type="application/json" class="js-hypothesis-config">

{"showHighlights": false}

</script>
<script src="https://hypothes.is/embed.js" async></script>
            </section>

          </div>
        </div>
      </div>
<a href="context.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="utils.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["GERMAIN-memo-msp.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
